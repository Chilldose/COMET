

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="Python 3.7" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="Python 3.7" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data Visualization and Analysis &mdash; COMET beta documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Documentation" href="Documentation.html" />
    <link rel="prev" title="Data Explorer" href="Data_Explorer.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> COMET
          

          
          </a>

          
            
            
              <div class="version">
                0.10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">COMET Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../programstructure.html">COMET layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">How to</a></li>
<li class="toctree-l1"><a class="reference internal" href="../measurementjobgen.html">Measurement Job Generation</a></li>
</ul>
<p class="caption"><span class="caption-text">COMET Structure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../datastructure.html">Data Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataexchange.html">Data Exchange</a></li>
</ul>
<p class="caption"><span class="caption-text">Measurement Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../measurement_plugins/IVCV.html">IVCV</a></li>
<li class="toctree-l1"><a class="reference internal" href="../measurement_plugins/Stripscan.html">Stripscan</a></li>
<li class="toctree-l1"><a class="reference internal" href="../measurement_plugins/RelaxTimeAnalysis.html">Relaxation Time Analysis</a></li>
</ul>
<p class="caption"><span class="caption-text">General Purpose Plugins</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources Tab</a></li>
<li class="toctree-l1"><a class="reference internal" href="Device_Com.html">Device Communication Tab</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data_Explorer.html">Data Explorer</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data Visualization and Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="#gui-specific-functions">GUI specific functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#saving-data-as-xml">Saving Data as XML</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Switching_Control.html">Switching Matrix Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Code references</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Tools.html">Measurement Tool Box functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools.html#vcw-visa-connect-wizard">VCW - Visa Connect Wizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools.html#xyz-stage-control-class">XYZ-Stage Control Class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tools.html#switching-system-control-class">Switching System Control Class</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">COMET</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Data Visualization and Analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/GUI_plugins/Data_Visualization.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-visualization-and-analysis">
<h1>Data Visualization and Analysis<a class="headerlink" href="#data-visualization-and-analysis" title="Permalink to this headline">¶</a></h1>
<p>The Data Visualization and Analysis tab is an easy way to plot/analyse all kind of data. It can cope with ASCII, JSON and HDF5
files. The core GUI element looks like</p>
<img alt="Flowchart_main" class="floatingflask" src="../_images/VIS.png" />
<p>The option <strong>Data Files</strong> lets you select the data files to be plotted together. Therefore you need a <strong>Analysis Template</strong>
which has all information stored for analysing and plotting the selected data. The <strong>save to</strong> option lets you define a
directory to store your data/plots.</p>
<p>To actually see something one has to hit the <strong>Render</strong> button, which initiates the plotting/analysis. And with the save
as button and the corresponding combo box you can choose to save the data, as well as who the data is stored.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The analysis script is actually a stand alone software which can also be found on my github page. So if you are interested in developing your own plotting plugin, please see the corresponding docs of the plotting scripts.</p>
</div>
<p>After rendering you can choose which generated plot you want to display in the options <strong>Plots</strong>.
If you are not content with the plotting results, lets say the y-limits are not correct the plotting option for each
particular plot will be displayed. You can either select one and manipulate it there or, you can add new ones as well in the
line edit below. By pressing the <strong>Apply</strong> button the software reconfigs the plot and displays it to you.</p>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>If you pass a critical parameter which is somehow malformed in its value. You can damage the current plot object to a degree it is no longer plottable. In this case you have to re-render all plots. By doing so you loose all previous changes to the plots!</p>
</div>
<p>For the basic structure and usage of the plotting lib please see the ReadMe for the plotting lib at <a class="reference external" href="https://github.com/Chilldose/PlotScripts">Plotting Scripts doc</a></p>
</div>
<div class="section" id="gui-specific-functions">
<h1>GUI specific functions<a class="headerlink" href="#gui-specific-functions" title="Permalink to this headline">¶</a></h1>
<p>The following sections describe functions of the Data Visualization GUI which are only accessible through the GUI version.</p>
<div class="section" id="saving-data-as-xml">
<h2>Saving Data as XML<a class="headerlink" href="#saving-data-as-xml" title="Permalink to this headline">¶</a></h2>
<p>The Data Visualisation GUI features a XML parsing tool, which can save your data as an XML file.
For it work a XML template must be present in the root folder of your GUI configs. (Or simply spoken, it has to be at the same directory as your settings config)</p>
<p>Such a config is again a YAML file and can look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span>
<span class="n">Settings_name</span><span class="p">:</span> <span class="n">CMSxmlTemplate</span>

<span class="n">Template</span><span class="p">:</span>
  <span class="n">HEADER</span><span class="p">:</span>
    <span class="n">TYPE</span><span class="p">:</span>
      <span class="n">EXTENSION_TABLE_NAME</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">EXTENSION_TABLE_NAME</span><span class="o">&gt;</span>
      <span class="n">NAME</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">NAME</span><span class="o">&gt;</span>
    <span class="n">RUN</span><span class="p">:</span>
      <span class="n">RUN_TYPE</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Project</span><span class="o">&gt;</span>
      <span class="n">RUN_NUMBER</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">RUN_NUMBER</span><span class="o">&gt;</span>
      <span class="n">LOCATION</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">LOCATION</span><span class="o">&gt;</span>
      <span class="n">INITIATED_BY_USER</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Operator</span><span class="o">&gt;</span>
      <span class="n">RUN_BEGIN_TIMESTAMP</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Date</span><span class="o">&gt;</span>
      <span class="n">RUN_END_TIMESTAMP</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">ENDTIME</span><span class="o">&gt;</span>
      <span class="n">COMMENT_DESCRIPTION</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">RUN_COMMENT</span><span class="o">&gt;</span>
  <span class="n">DATA_SET</span><span class="p">:</span>
    <span class="n">COMMENT_DESCRIPTION</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">DATA_COMMENT</span><span class="o">&gt;</span>
    <span class="n">VERSION</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">VERSION</span><span class="o">&gt;</span> <span class="c1"># The data version? How many times I started the measurement?</span>
    <span class="n">PART</span><span class="p">:</span>
      <span class="n">KIND_OF_PART</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Sensor</span> <span class="n">Type</span><span class="o">&gt;</span>
      <span class="n">SERIAL_NUMBER</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">ID</span><span class="o">&gt;</span>
    <span class="n">DATA</span><span class="p">:</span> <span class="o">//</span><span class="n">DATA_DUMP_template</span><span class="o">//</span>

<span class="n">DATA_DUMP_template</span><span class="p">:</span>
  <span class="n">Istrip</span><span class="p">:</span>
      <span class="n">STRIP</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Pad</span><span class="o">&gt;</span>
      <span class="n">CURRNT_NAMPR</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Istrip</span><span class="o">&gt;</span>
      <span class="n">TEMP_DEGC</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Temperature</span><span class="o">&gt;</span>
      <span class="n">RH_PRCNT</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Humidity</span><span class="o">&gt;</span>
      <span class="n">BIASCURRNT_NAMPR</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Idark</span><span class="o">&gt;</span>
  <span class="n">Cac</span><span class="p">:</span>
      <span class="n">STRIP</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Pad</span><span class="o">&gt;</span>
      <span class="n">CAPCTNC_PFRD</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Cac</span><span class="o">&gt;</span>
      <span class="n">TEMP_DEGC</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Temperature</span><span class="o">&gt;</span>
      <span class="n">RH_PRCNT</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Humidity</span><span class="o">&gt;</span>
      <span class="n">BIASCURRNT_NAMPR</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Idark</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>in order for the framework to recognise your template you have to add the parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xml_template</span><span class="p">:</span> <span class="n">CMSxmlTemplate</span>
</pre></div>
</div>
<p>to your main config file.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The name can be changed to your liking here!</p>
</div>
<p>How does it work? -  The first entry is the &quot;Template&quot; entry. This defines the general structure of your output XML.
The Keys inside are the items in the XML file and the values enclosed by &lt;...&gt; are placeholder names.
These placeholder are searched for in the header of your file with the regex: r&quot;{}Ws?(.*)&quot;. The curly brackets is the placeholder name without &lt;&gt;.
The value inside the () is then extracted as seen in the regex and inserted as value in the XML entry.</p>
<p>To clarify this imagine the measurement file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Measurement file:</span>
<span class="c1"># Project: HPK 6 inch 2018</span>
<span class="c1"># Sensor Type: 2S</span>
<span class="c1"># ID: VPX28442_04_2S</span>
<span class="c1"># Operator: Dominic</span>
<span class="c1"># Date: Tue Feb 26 11:16:57 2019</span>

<span class="n">Pad</span>                     <span class="n">Istrip</span>                  <span class="n">Rpoly</span>                   <span class="n">Idark</span>                   <span class="n">Cac</span>                     <span class="n">Cint</span>                    <span class="n">Idiel</span>                   <span class="n">Rint</span>                    <span class="n">Temperature</span>             <span class="n">Humidity</span>
<span class="n">padNumber</span><span class="p">[</span><span class="c1">#]            current[A]              res[Ohm]                current[A]              cap[F]                  cap[F]                  current[A]              res[Ohm]                degree[C]               rel. percent[rel%]</span>
<span class="mf">1.0</span>                     <span class="o">--</span>                      <span class="o">--</span>                      <span class="o">--</span>                      <span class="o">--</span>                      <span class="o">--</span>                      <span class="o">--</span>                      <span class="o">--</span>                      <span class="mf">21.2</span>                    <span class="mf">20.3</span>
<span class="mf">2.0</span>                     <span class="o">-</span><span class="mf">1.203639e-10</span>           <span class="mf">1938115.94709</span>           <span class="o">-</span><span class="mf">1.84013333333e-07</span>      <span class="mf">1.48189666667e-10</span>       <span class="mf">4.71583e-12</span>             <span class="o">-</span><span class="mf">3.35330366667e-11</span>      <span class="o">--</span>                      <span class="mf">21.2</span>                    <span class="mf">20.3</span>
<span class="mf">3.0</span>                     <span class="o">-</span><span class="mf">9.079903e-11</span>           <span class="mf">1932907.86233</span>           <span class="o">-</span><span class="mf">1.83905333333e-07</span>      <span class="mf">1.48212333333e-10</span>       <span class="mf">4.73185e-12</span>             <span class="o">-</span><span class="mf">2.40601026667e-11</span>      <span class="o">--</span>                      <span class="mf">21.2</span>                    <span class="mf">20.3</span>
<span class="mf">4.0</span>                     <span class="o">-</span><span class="mf">1.02729356667e-10</span>      <span class="mf">1936311.72302</span>           <span class="o">-</span><span class="mf">1.83022e-07</span>            <span class="mf">1.48234666667e-10</span>       <span class="mf">4.7338e-12</span>              <span class="mf">2.82378533333e-11</span>       <span class="o">--</span>                      <span class="mf">21.2</span>                    <span class="mf">20.2</span>
<span class="mf">5.0</span>                     <span class="o">-</span><span class="mf">1.16085966667e-10</span>      <span class="mf">1936726.82213</span>           <span class="o">-</span><span class="mf">1.8326e-07</span>             <span class="mf">1.48238e-10</span>             <span class="mf">4.74095666667e-12</span>       <span class="mf">1.35758e-12</span>             <span class="o">--</span>                      <span class="mf">21.2</span>                    <span class="mf">20.2</span>
</pre></div>
</div>
<p>The entry in the xml template: RUN_TYPE: &lt;Project&gt; is therefore searching for the word &quot;Project&quot; and is inserting the value &quot;HPK 6 inch 2018&quot; in this case. To every entry the script does not find a valid regex result to, a &quot;None&quot; will be inserted instead.
Another feature is the possibility to insert data with a separate template. This is done with the: &quot;DATA: //DATA_DUMP_template//&quot; entry. The &quot;//&quot; here signals that it must search for a cloneable template. In the configuration file you will find an entry with exact the same name.
Insider are again keys. The first keys signal what data should be looked at. For instance the first entry is the &quot;Istrip&quot; entry. Therefore, a XML file will be generated for this measurement.</p>
<p>The first thing the script does is a loop over all values of in this case &quot;Istrip&quot; form the data. With each data entry, the following template will be executed to generate the data entry. Here the keys are again the entry name in the XML file and the value enclosed in the &lt;...&gt; is now
a column descriptor. If the script encounters such a value the corresponding value from this column will be used and inserted. To show this a part of a final XML file can be seen here:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;root&gt;
  &lt;HEADER&gt;
    &lt;TYPE&gt;
      &lt;EXTENSION_TABLE_NAME&gt;None&lt;/EXTENSION_TABLE_NAME&gt;
      &lt;NAME&gt;None&lt;/NAME&gt;
    &lt;/TYPE&gt;
    &lt;RUN&gt;
      &lt;RUN_TYPE&gt;HPK 6 inch 2018&lt;/RUN_TYPE&gt;
      &lt;RUN_NUMBER&gt;None&lt;/RUN_NUMBER&gt;
      &lt;LOCATION&gt;None&lt;/LOCATION&gt;
      &lt;INITIATED_BY_USER&gt;Dominic&lt;/INITIATED_BY_USER&gt;
      &lt;RUN_BEGIN_TIMESTAMP&gt;Tue Feb 26 11:16:57 2019&lt;/RUN_BEGIN_TIMESTAMP&gt;
      &lt;RUN_END_TIMESTAMP&gt;None&lt;/RUN_END_TIMESTAMP&gt;
      &lt;COMMENT_DESCRIPTION&gt;None&lt;/COMMENT_DESCRIPTION&gt;
    &lt;/RUN&gt;
  &lt;/HEADER&gt;
  &lt;DATA_SET&gt;
    &lt;COMMENT_DESCRIPTION&gt;None&lt;/COMMENT_DESCRIPTION&gt;
    &lt;VERSION&gt;None&lt;/VERSION&gt;
    &lt;PART&gt;
      &lt;KIND_OF_PART&gt;2S&lt;/KIND_OF_PART&gt;
      &lt;SERIAL_NUMBER&gt;VPX28442_04_2S&lt;/SERIAL_NUMBER&gt;
    &lt;/PART&gt;
    &lt;DATA&gt;
      &lt;STRIP&gt;1.0&lt;/STRIP&gt;
      &lt;CURRNT_NAMPR&gt;nan&lt;/CURRNT_NAMPR&gt;
      &lt;TEMP_DEGC&gt;21.2&lt;/TEMP_DEGC&gt;
      &lt;RH_PRCNT&gt;20.3&lt;/RH_PRCNT&gt;
      &lt;BIASCURRNT_NAMPR&gt;nan&lt;/BIASCURRNT_NAMPR&gt;
    &lt;/DATA&gt;
    &lt;DATA&gt;
      &lt;STRIP&gt;2.0&lt;/STRIP&gt;
      &lt;CURRNT_NAMPR&gt;-1.203639e-10&lt;/CURRNT_NAMPR&gt;
      &lt;TEMP_DEGC&gt;21.2&lt;/TEMP_DEGC&gt;
      &lt;RH_PRCNT&gt;20.3&lt;/RH_PRCNT&gt;
      &lt;BIASCURRNT_NAMPR&gt;-1.84013333333e-07&lt;/BIASCURRNT_NAMPR&gt;
    &lt;/DATA&gt;
    &lt;DATA&gt;
      &lt;STRIP&gt;3.0&lt;/STRIP&gt;
      &lt;CURRNT_NAMPR&gt;-9.079903e-11&lt;/CURRNT_NAMPR&gt;
      &lt;TEMP_DEGC&gt;21.2&lt;/TEMP_DEGC&gt;
      &lt;RH_PRCNT&gt;20.3&lt;/RH_PRCNT&gt;
      &lt;BIASCURRNT_NAMPR&gt;-1.83905333333e-07&lt;/BIASCURRNT_NAMPR&gt;
    &lt;/DATA&gt;
</pre></div>
</div>
<p>The same procedure will be done for the &quot;Cac&quot; entry in a separate file.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Documentation.html" class="btn btn-neutral float-right" title="Documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Data_Explorer.html" class="btn btn-neutral float-left" title="Data Explorer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Dominic Bloech

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>